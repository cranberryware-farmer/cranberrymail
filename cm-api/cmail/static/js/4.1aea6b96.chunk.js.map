{"version":3,"sources":["components/Typography.js","components/Page.js","components/Cranberry/EnhancedTable.js","pages/ComposeModal.js","components/MessageEditor.js","pages/EmailPage.js","pages/SettingsPage.js","pages/InboxPage.js"],"names":["tagMap","h1","h2","h3","h4","h5","h6","display-1","display-2","display-3","display-4","p","lead","blockquote","Typography","_ref","TypoComp","Tag","tag","className","type","restProps","Object","objectWithoutProperties","classes","classNames","defineProperty","react_default","a","createElement","assign","defaultProps","bem","bn","create","Page","title","breadcrumbs","children","b","e","components_Typography","Breadcrumb","BreadcrumbItem","length","map","_ref2","index","name","active","key","desc","orderBy","useToolbarStyles","makeStyles","theme","root","paddingLeft","spacing","paddingRight","highlight","palette","color","secondary","main","backgroundColor","lighten","light","text","primary","dark","spacer","flex","actions","EnhancedTableToolbar","props","numSelected","tableTitle","curFolder","undefined","toLowerCase","Toolbar","clsx","esm_Typography_Typography","id","Fragment","match","Tooltip","IconButton","aria-label","onClick","unselectAll","spamEmails","rows","index_esm","unspamEmails","trashEmails","untrashEmails","useStyles","width","paper","table","minWidth","tableWrapper","overflowX","visuallyHidden","border","clip","height","margin","overflow","padding","position","top","React","memo","headCells","labelRowsPerPage","showEmptyRows","showEmail","trashEmail","starEmail","untrashEmail","spamEmail","unspamEmail","breakpoint","_React$useState","useState","_React$useState2","slicedToArray","order","_React$useState3","_React$useState4","_React$useState5","_React$useState6","selected","setSelected","_React$useState7","_React$useState8","page","setPage","_React$useState9","_React$useState10","dense","setDense","_React$useState11","_React$useState12","rowsPerPage","setRowsPerPage","openEmail","event","uid","handleClick","selectedIndex","indexOf","newSelected","concat","slice","toggleStar","preventDefault","sFlag","document","querySelector","getAttribute","handleChangePage","newPage","handleChangeRowsPerPage","target","value","emptyRows","Math","min","useEffect","Paper","Grid","container","direction","justify","alignItems","style","borderBottom","item","xs","Checkbox","indeterminate","checked","onChange","newSelecteds","n","inputProps","EnhancedTable_EnhancedTableToolbar","ev","TablePagination","rowsPerPageOptions","component","count","backIconButtonProps","nextIconButtonProps","onChangePage","onChangeRowsPerPage","Table","aria-labelledby","size","striped","TableBody","array","cmp","stabilizedThis","el","sort","stableSort","getSorting","row","isItemSelected","labelId","TableRow","hover","role","aria-checked","tabIndex","TableCell","rowSpan","keys","row_key","row_key_index","ri","data-starred","substr","date","split","colSpan","FormControlLabel","control","Switch","label","composeModal","Row","Col","md","sm","Card","CardHeader","CardBody","Modal","isOpen","modal","toggle","closemodal","classnm","ModalHeader","ModalBody","Form","onSubmit","sendemail","FormGroup","Label","for","Input","placeholder","required","FormText","dist_react_draft_wysiwyg","editorState","meditorstate","wrapperClassName","editorClassName","onEditorStateChange","es","meditorstatehandler","toolbarClassName","toolbar","inline","inDropdown","list","textAlign","link","history","md_index_esm","multiple","attachmenthandler","Button","MessageEditor","_this","classCallCheck","this","_super","call","state","EditorState","createEmpty","isCc","isBcc","setState","contentState","markdown","markdownString","fwdMsg","rawData","markdownToDraft","convertFromRaw","stateFromHTML","createWithContent","isEmailFwd","getElementById","orCc","orBcc","_this2","defaultValue","orFrom","href","subject","handleAttachment","email","content","getCurrentContent","draftToMarkdown","convertToRaw","draftToHtml","replyEmail","editor","resetSubject","closeEditors","Component","emailPage","floatDir","xl","lg","thread","emlBody","body","hasAttachments","path","window","location","pathname","arr","segment","pop","join","i","attachment","NavLink","to","fetchEmails","emailStarred","nextStarredState","isEmailStarred","from","displayDate","dangerouslySetInnerHTML","__html","components_MessageEditor","editorHandler","cc","bcc","orTo","activeThread","orSubject","settingsPage","markdownSwitch","CustomInput","defaultChecked","enableMarkdown","createData","starred","timestamp","numeric","disablePadding","InboxPage","fileData","files","updateState","objectSpread","onModalEditorStateChange","modalEditorState","emailBody","config","headers","Accept","Authorization","app","token","messageId","data","FormData","append","axios","post","_api","then","res","result","toast","message","emailState","trashFolder","starredFolder","filter","flag","Array","isArray","JSON","stringify","curfolder","trash","spam","sendEmail","resetFields","handleCompose","modalType","closeModal","setEmailNode","node","Date","year","getFullYear","month","getMonth","day","getDate","hours","getHours","minutes","getMinutes","origin","busy","threadMax","getRowIndex","max","emailThreads","uids","showSettings","row_index","scrollTo","folder","thread_uids","has_thread","status","curDate","erows","threads","search","fdate","isAttached","searchEmails","term","sterm","toLocaleDateString","mail","handleRefresh","cells","modal_backdrop","modal_nested_parent","modal_nested","backdrop","enableEmailThread","dateFormat","push","prevProps","searchTerm","react_toastify","components_Page","Spinner","marginTop","Cranberry_EnhancedTable","rowsLength","ComposeModal","composehandler","build","tooltip","rotate","EmailPage","SettingsPage","withRouter"],"mappings":"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","file":"static/js/4.1aea6b96.chunk.js","sourcesContent":["import classNames from 'classnames';\nimport React from 'react';\nimport PropTypes from 'utils/propTypes';\n\nconst tagMap = {\n  h1: 'h1',\n  h2: 'h2',\n  h3: 'h3',\n  h4: 'h4',\n  h5: 'h5',\n  h6: 'h6',\n  'display-1': 'h1',\n  'display-2': 'h1',\n  'display-3': 'h1',\n  'display-4': 'h1',\n  p: 'p',\n  lead: 'p',\n  blockquote: 'blockquote',\n};\n\nconst types = Object.keys(tagMap);\n\nconst Typography = ({ tag: Tag, className, type, ...restProps }) => {\n  const classes = classNames({ [type]: !!type }, className);\n  let TypoComp;\n\n  if (Tag) {\n    TypoComp = Tag;\n  } else if (!Tag && tagMap[type]) {\n    TypoComp = tagMap[type];\n  } else {\n    TypoComp = 'p';\n  }\n\n  return <TypoComp {...restProps} className={classes} />;\n};\n\nTypography.propTypes = {\n  tag: PropTypes.component,\n  className: PropTypes.string,\n  type: PropTypes.oneOf(types),\n};\n\nTypography.defaultProps = {\n  type: 'p',\n};\n\nexport default Typography;\n","import React from 'react';\nimport PropTypes from 'utils/propTypes';\n\nimport bn from 'utils/bemnames';\n\nimport { Breadcrumb, BreadcrumbItem } from 'reactstrap';\n\nimport Typography from './Typography';\n\nconst bem = bn.create('page');\n\nconst Page = ({\n  title,\n  breadcrumbs,\n  tag: Tag,\n  className,\n  children,\n  ...restProps\n}) => {\n  const classes = bem.b('px-3', className);\n\n  return (\n    <Tag className={classes} {...restProps}>\n      <div className={bem.e('header')}>\n        {title && typeof title === 'string' ? (\n          <Typography type=\"h1\" className={bem.e('title')}>\n            {title}\n          </Typography>\n        ) : (\n            title\n          )}\n        {breadcrumbs && (\n          <Breadcrumb className={bem.e('breadcrumb')}>\n            <BreadcrumbItem>Home</BreadcrumbItem>\n            {breadcrumbs.length &&\n              breadcrumbs.map(({ name, active }, index) => (\n                <BreadcrumbItem key={index} active={active}>\n                  {name}\n                </BreadcrumbItem>\n              ))}\n          </Breadcrumb>\n        )}\n      </div>\n      {children}\n    </Tag>\n  );\n};\n\nPage.propTypes = {\n  tag: PropTypes.component,\n  title: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n  className: PropTypes.string,\n  children: PropTypes.node,\n  breadcrumbs: PropTypes.arrayOf(\n    PropTypes.shape({\n      name: PropTypes.string,\n      active: PropTypes.bool,\n    })\n  ),\n};\n\nPage.defaultProps = {\n  tag: 'div',\n  title: '',\n};\n\nexport default Page;\n","import React,{ useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { lighten, makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Paper from '@material-ui/core/Paper';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport IconButton from '@material-ui/core/IconButton';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Switch from '@material-ui/core/Switch';\nimport { FaTrashRestore, FaTrash, FaExclamationTriangle, FaInbox } from \"react-icons/fa\";\n\nfunction desc(a, b, orderBy) {\n  if (b[orderBy] < a[orderBy]) {\n    return -1;\n  }\n  if (b[orderBy] > a[orderBy]) {\n    return 1;\n  }\n  return 0;\n}\n\nfunction stableSort(array, cmp) {\n  const stabilizedThis = array.map((el, index) => [el, index]);\n  stabilizedThis.sort((a, b) => {\n    const order = cmp(a[0], b[0]);\n    if (order !== 0) return order;\n    return a[1] - b[1];\n  });\n  return stabilizedThis.map(el => el[0]);\n}\n\nfunction getSorting(order, orderBy) {\n  return order === 'desc'\n    ? (a, b) => desc(a, b, orderBy)\n    : (a, b) => -desc(a, b, orderBy);\n}\n\nfunction EnhancedTableHead(props) {\n  const {\n    classes,\n    onSelectAllClick,\n    order,\n    orderBy,\n    numSelected,\n    rowCount,\n    headCells,\n    onRequestSort,\n  } = props;\n  const createSortHandler = property => event => {\n    onRequestSort(event, property);\n  };\n\n  return (\n    <TableHead>\n      <TableRow>\n        <TableCell padding=\"checkbox\">\n          <Checkbox\n            indeterminate={numSelected > 0 && numSelected < rowCount}\n            checked={numSelected === rowCount}\n            onChange={onSelectAllClick}\n            inputProps={{ 'aria-label': 'select all desserts' }}\n          />\n        </TableCell>\n        {headCells.map(headCell => (\n          <TableCell\n            key={headCell.id}\n            align={headCell.numeric ? 'right' : 'left'}\n            padding={headCell.disablePadding ? 'none' : 'default'}\n            sortDirection={orderBy === headCell.id ? order : false}\n          >\n            <TableSortLabel\n              active={orderBy === headCell.id}\n              direction={order}\n              onClick={createSortHandler(headCell.id)}\n            >\n              {headCell.label}\n              {orderBy === headCell.id ? (\n                <span className={classes.visuallyHidden}>\n                  {order === 'desc' ? 'sorted descending' : 'sorted ascending'}\n                </span>\n              ) : null}\n            </TableSortLabel>\n          </TableCell>\n        ))}\n      </TableRow>\n    </TableHead>\n  );\n}\n\nEnhancedTableHead.propTypes = {\n  classes: PropTypes.object.isRequired,\n  numSelected: PropTypes.number.isRequired,\n  onRequestSort: PropTypes.func.isRequired,\n  onSelectAllClick: PropTypes.func.isRequired,\n  order: PropTypes.oneOf(['asc', 'desc']).isRequired,\n  orderBy: PropTypes.string.isRequired,\n  rowCount: PropTypes.number.isRequired,\n  headCells: PropTypes.object.isRequired,\n};\n\nconst useToolbarStyles = makeStyles(theme => ({\n  root: {\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(1),\n  },\n  highlight:\n    theme.palette.type === 'light'\n      ? {\n          color: theme.palette.secondary.main,\n          backgroundColor: lighten(theme.palette.secondary.light, 0.85),\n        }\n      : {\n          color: theme.palette.text.primary,\n          backgroundColor: theme.palette.secondary.dark,\n        },\n  spacer: {\n    flex: '1 1 100%',\n  },\n  actions: {\n    color: theme.palette.text.secondary,\n  },\n  title: {\n    flex: '0 0 auto',\n  },\n}));\n\nconst EnhancedTableToolbar = props => {\n  const classes = useToolbarStyles();\n  const { numSelected, tableTitle } = props;\n  \n  let curFolder = (tableTitle!=undefined) ? tableTitle.toLowerCase(): '';\n\n  return (\n    <Toolbar\n      className={clsx(classes.root, {\n        [classes.highlight]: numSelected > 0,\n      })}\n    >\n      <div className={classes.title}>\n        {numSelected > 0 ? (\n          <Typography color=\"inherit\">{numSelected} selected</Typography>\n        ) : (\n          <Typography id=\"tableTitle\">{tableTitle}</Typography>\n        )}\n      </div>\n      <div className={classes.spacer} />\n      <div className={classes.actions}>\n        {numSelected > 0 && (\n            <React.Fragment>\n            {(curFolder.match(\"spam\") === null) ? <Tooltip title=\"Mark as spam\">\n              <IconButton \n                  aria-label=\"spam\" \n                  onClick = {() => { \n                            props.unselectAll();\n                            props.spamEmails(props.rows);\n                }}>\n              <FaExclamationTriangle />\n            </IconButton>\n            </Tooltip>:<Tooltip title=\"Not Spam\">\n              <IconButton \n                aria-label=\"unspam\" \n                onClick = {() => { \n                        props.unselectAll();\n                        props.unspamEmails(props.rows);\n                }}>\n              <FaInbox />\n            </IconButton>\n            </Tooltip>\n            }  \n            {(curFolder.match(\"trash\") === null) ? <Tooltip title=\"Move to trash\">\n              <IconButton \n                  aria-label=\"delete\" \n                  onClick = {() => { \n                            props.unselectAll();\n                            props.trashEmails(props.rows);\n                }}>\n              <FaTrash />\n            </IconButton>\n            </Tooltip>:<React.Fragment>\n              <Tooltip title=\"Delete emails\">\n              <IconButton\n                aria-label=\"delete\" \n                onClick = {() => { \n                            props.unselectAll();\n                            props.trashEmails(props.rows);\n                }}>\n              <FaTrash />\n              </IconButton>\n            </Tooltip>\n            <Tooltip title=\"Restore emails\">\n              <IconButton \n                aria-label=\"undelete\" \n                onClick = {() => { \n                        props.unselectAll();\n                        props.untrashEmails(props.rows);\n                }}>\n              <FaTrashRestore />\n            </IconButton>\n            </Tooltip>\n            </React.Fragment>\n            }\n            </React.Fragment>\n        )}\n      </div>\n    </Toolbar>\n  );\n};\n\nEnhancedTableToolbar.propTypes = {\n  numSelected: PropTypes.number.isRequired,\n  tableTitle: PropTypes.string.isRequired,\n};\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: '100%',\n    // marginTop: theme.spacing(3),\n  },\n  paper: {\n    width: '100%',\n    // marginBottom: theme.spacing(2),\n  },\n  table: {\n    minWidth: 750,\n  },\n  tableWrapper: {\n    overflowX: 'auto',\n  },\n  visuallyHidden: {\n    border: 0,\n    clip: 'rect(0 0 0 0)',\n    height: 1,\n    margin: -1,\n    overflow: 'hidden',\n    padding: 0,\n    position: 'absolute',\n    top: 20,\n    width: 1,\n  },\n}));\n\nconst EnhancedTable = ({\n  rows,\n  headCells,\n  tableTitle,\n  labelRowsPerPage,\n  showEmptyRows,\n  props,\n  showEmail,\n  trashEmail,\n  starEmail,\n  untrashEmail,\n  spamEmail,\n  unspamEmail,\n  breakpoint\n}) => {\n  const classes = useStyles();\n  const [order, setOrder] = React.useState('desc');\n  const [orderBy, setOrderBy] = React.useState('id');\n  const [selected, setSelected] = React.useState([]);\n  const [page, setPage] = React.useState(0);\n  const [dense, setDense] = React.useState(false);\n  \n \n\n  const [rowsPerPage, setRowsPerPage] = React.useState(30);\n  labelRowsPerPage = labelRowsPerPage ? labelRowsPerPage : 'Per page';\n  showEmptyRows = typeof showEmptyRows == 'undefined' ? true : showEmptyRows;\n\n  const handleRequestSort = (event, property) => {\n    const isDesc = orderBy === property && order === 'desc';\n    setOrder(isDesc ? 'asc' : 'desc');\n    setOrderBy(property);\n  };\n\n  const unselectAll = ev =>{\n      setSelected([]);\n  };\n\n  const handleSelectAllClick = event => {\n    if (event.target.checked) {\n      const newSelecteds = rows.map(n => n.id);\n      setSelected(newSelecteds);\n      return;\n    }\n    setSelected([]);\n  };\n\n  const openEmail = (event, uid) => {\n    showEmail(uid);\n  };\n\n  const handleClick = (event, id) => {\n    const selectedIndex = selected.indexOf(id);\n    let newSelected = [];\n\n    if (selectedIndex === -1) {\n      newSelected = newSelected.concat(selected, id);\n    } else if (selectedIndex === 0) {\n      newSelected = newSelected.concat(selected.slice(1));\n    } else if (selectedIndex === selected.length - 1) {\n      newSelected = newSelected.concat(selected.slice(0, -1));\n    } else if (selectedIndex > 0) {\n      newSelected = newSelected.concat(\n        selected.slice(0, selectedIndex),\n        selected.slice(selectedIndex + 1),\n      );\n    }\n\n    setSelected(newSelected);\n  };\n\n  const toggleStar = (e, id) => {\n    e.preventDefault();\n    let el = document.querySelector('#star-' + id);\n    let sFlag = el.getAttribute('data-starred');\n    \n    if (sFlag === '1') {\n      starEmail(id,0);\n    } else {\n      starEmail(id,1);\n    }  \n  };\n\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n  };\n\n  const handleChangeRowsPerPage = event => {\n    setRowsPerPage(+event.target.value);\n    setPage(0);\n  };\n\n  const handleChangeDense = event => {\n    setDense(event.target.checked);\n  };\n\n  const isSelected = id => selected.indexOf(id) !== -1;\n\n  const emptyRows =\n    rowsPerPage - Math.min(rowsPerPage, rows.length - page * rowsPerPage);\n  \n  useEffect(() => {\n      if(breakpoint==='xs'){\n        setDense(true);\n      }\n      \n  });\n  \n  return (\n    <div className={classes.root}>\n      <Paper className={classes.paper}>\n        <Grid\n          container\n          direction=\"row\"\n          justify=\"space-between\"\n          alignItems=\"center\"\n          spacing={0}\n          className={classes.root}\n          style={{ borderBottom: '1px solid inherit' }}\n        >\n          <Grid item xs style={{ paddingLeft: 4 }}>\n            <Checkbox\n              indeterminate={\n                selected.length > 0 && selected.length < rows.length\n              }\n              checked={selected.length === rows.length}\n              onChange={handleSelectAllClick}\n              inputProps={{ 'aria-label': 'select all' }}\n            />\n          </Grid>\n          <Grid item xs>\n            <EnhancedTableToolbar\n              numSelected={selected.length}\n              tableTitle={tableTitle}\n              rows={selected}\n              trashEmails={trashEmail}\n              unselectAll={unselectAll}\n              untrashEmails={untrashEmail}\n              spamEmails={spamEmail}\n              unspamEmails={unspamEmail}\n            />\n          </Grid>\n          <Grid item xs>\n            <TablePagination\n              rowsPerPageOptions={[30, 50, 100]}\n              labelRowsPerPage={labelRowsPerPage}\n              component=\"div\"\n              count={rows.length}\n              rowsPerPage={rowsPerPage}\n              page={page}\n              backIconButtonProps={{\n                'aria-label': 'previous page',\n              }}\n              nextIconButtonProps={{\n                'aria-label': 'next page',\n              }}\n              onChangePage={handleChangePage}\n              onChangeRowsPerPage={handleChangeRowsPerPage}\n            />\n          </Grid>\n        </Grid>\n        <div className={classes.tableWrapper}>\n          <Table\n            className={classes.table}\n            aria-labelledby=\"tableTitle\"\n            size={dense ? 'small' : 'medium'}\n            striped\n          >\n            <TableBody>\n              {stableSort(rows, getSorting(order, orderBy))\n                .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n                .map((row, index) => {\n                  const isItemSelected = isSelected(row.id);\n                  const labelId = `enhanced-table-checkbox-${index}`;\n\n                  \n                  if(breakpoint==='xs'){\n                    return(<React.Fragment>\n                      <TableRow\n                        hover\n                        role=\"checkbox\"\n                        aria-checked={isItemSelected}\n                        tabIndex={-1}\n                        key={row.id}\n                        selected={isItemSelected}\n                        className=\"hl-tr\"\n                      >\n                      <TableCell\n                          padding=\"checkbox\"\n                          onClick={event => handleClick(event, row.id)}\n                          rowSpan={5}\n                        >\n                          <Checkbox\n                            checked={isItemSelected}\n                            inputProps={{ 'aria-labelledby': labelId }}\n                          />\n                        </TableCell> \n                       </TableRow>\n                        {Object.keys(row).map((row_key, row_key_index) => {\n                          if (row_key !== 'id') {\n                            if (row_key === 'starred') {\n                              let ri = <TableCell>\n                              <span\n                                id={'star-' + row.id}\n                                onClick={e => toggleStar(e, row.id)}\n                                data-starred={row[row_key]}\n                                className=\"starred\"\n                              >\n                                {row[row_key] === 1 ? '\\u2605' : '\\u2606'}\n                              </span>\n                            </TableCell>;\n                                  return (\n                                    <TableRow>\n                                      {ri}\n                                    </TableRow>\n                                  );\n                                  \n                              \n                              \n                            } else if (row_key === 'subject') {\n                              \n                              let maxText=30;\n                              let ri = <TableCell\n                                            onClick={event => openEmail(event,row.id)}\n                                        >\n                                          {row[row_key].substr(0, maxText)}...\n                                        </TableCell>;\n  \n                                \n                                  return (\n                                    <TableRow>\n                                      {ri}\n                                    </TableRow>\n                                  );\n                              \n                              \n                            } else if (row_key === 'attachment') {\n                              /*return (\n                                <TableRow>\n                                <TableCell>\n                                  {row[row_key] === 1 ? '\\u1F4CE' : ''}\n                                </TableCell>\n                                </TableRow>\n                              );*/\n                            }else if(row_key==='timestamp'){\n                              let date = row[row_key].split(\" \");\n                              date = date[0];\n                              let ri = <TableCell\n                                onClick={event => openEmail(event,row.id)}\n                              >\n                                {date}\n                              </TableCell>;\n    \n                                    return (\n                                      <TableRow>\n                                        {ri}\n                                      </TableRow>\n                                    );\n                            }else{\n                              let ri = <TableCell\n                                onClick={event => openEmail(event, row.id)}\n                              >\n                                <strong>{row[row_key]}</strong>\n                              </TableCell>;\n    \n                                  return (\n                                    <TableRow>\n                                      {ri}\n                                    </TableRow>\n                                  );\n                              \n                              \n                            }\n                          }\n                          return null;\n                        })}\n                        </React.Fragment>\n                    );\n                  \n                  }else{\n                    return(<TableRow\n                      hover\n                      role=\"checkbox\"\n                      aria-checked={isItemSelected}\n                      tabIndex={-1}\n                      key={row.id}\n                      selected={isItemSelected}\n                      className=\"hl-tr\"\n                    >\n                    <TableCell\n                        padding=\"checkbox\"\n                        onClick={event => handleClick(event, row.id)}\n                        rowSpan={1}\n                      >\n                        <Checkbox\n                          checked={isItemSelected}\n                          inputProps={{ 'aria-labelledby': labelId }}\n                        />\n                      </TableCell> \n                     \n                      {Object.keys(row).map((row_key, row_key_index) => {\n                        if (row_key !== 'id') {\n                          if (row_key === 'starred') {\n                            let ri = <TableCell>\n                            <span\n                              id={'star-' + row.id}\n                              onClick={e => toggleStar(e, row.id)}\n                              data-starred={row[row_key]}\n                              className=\"starred\"\n                            >\n                              {row[row_key] === 1 ? '\\u2605' : '\\u2606'}\n                            </span>\n                          </TableCell>;\n                              return ri;\n                              \n                          } else if (row_key === 'subject') {\n                            \n                            let ri = <TableCell\n                                          onClick={event => openEmail(event,row.id)}\n                                      >\n                                        {row[row_key].substr(0, 40)}...\n                                      </TableCell>;\n\n                              \n                             \n                                return ri;\n                             \n                            \n                          } else if (row_key === 'attachment') {\n                            /*return (\n                              <TableRow>\n                              <TableCell>\n                                {row[row_key] === 1 ? '\\u1F4CE' : ''}\n                              </TableCell>\n                              </TableRow>\n                            );*/\n                          }else if(row_key==='timestamp'){\n                            let date = row[row_key];\n                            let ri = <TableCell\n                              onClick={event => openEmail(event,row.id)}\n                            >\n                              {date}\n                            </TableCell>;\n  \n                                  return ri;\n                          }else{\n                            let ri = <TableCell\n                              onClick={event => openEmail(event,row.id)}\n                            >\n                              {row[row_key]}\n                            </TableCell>;\n  \n                           return ri;\n                            \n                            \n                          }\n                        }\n                        return null;\n                      })}\n                      </TableRow>\n                  );\n                }\n            })}\n              {emptyRows > 0 && showEmptyRows && (\n                <TableRow\n                  key=\"t1\"\n                  style={{ height: (dense ? 33 : 53) * emptyRows }}\n                >\n                  <TableCell colSpan={headCells.length + 1} />\n                </TableRow>\n              )}\n            </TableBody>\n          </Table>\n        </div>\n        <TablePagination\n          rowsPerPageOptions={[30, 50, 100]}\n          labelRowsPerPage={labelRowsPerPage}\n          component=\"div\"\n          count={rows.length}\n          rowsPerPage={rowsPerPage}\n          page={page}\n          backIconButtonProps={{\n            'aria-label': 'previous page',\n          }}\n          nextIconButtonProps={{\n            'aria-label': 'next page',\n          }}\n          onChangePage={handleChangePage}\n          onChangeRowsPerPage={handleChangeRowsPerPage}\n        />\n      </Paper>\n      <FormControlLabel\n        control={<Switch checked={dense} onChange={handleChangeDense} />}\n        label=\"Dense padding\"\n      />\n    </div>\n  );\n};\n\nexport default React.memo(EnhancedTable);\n","import React from 'react';\nimport {\n    Button as RButton,\n    Card,\n    CardBody,\n    CardHeader,\n    Col,\n    Modal,\n    ModalBody,\n    ModalHeader,\n    Form,\n    FormGroup,\n    FormText,\n    Input,\n    Label,\n    Row,\n} from 'reactstrap';\nimport { MdAttachFile } from \"react-icons/md\";\nimport { Editor } from 'react-draft-wysiwyg';\n\nconst composeModal = (props) => {\n return (<Row>\n    <Col md=\"12\" sm=\"12\" xs=\"12\">\n      <Card>\n        <CardHeader>Modal</CardHeader>\n        <CardBody>\n          <Modal\n            isOpen={props.modal}\n            toggle={() => { props.closemodal() }}\n            className={props.classnm}\n          >\n            <ModalHeader toggle={() => { props.closemodal() }}>\n              Compose Email\n            </ModalHeader>\n            <ModalBody>\n              <Form onSubmit={() => { props.sendemail() }}>\n                <FormGroup>\n                  <Label for=\"to\">To</Label>\n                  <Input\n                    type=\"text\"\n                    name=\"to\"\n                    id=\"to\"\n                    placeholder=\"Send email to...\"\n                    required\n                  />\n                  <FormText color=\"muted\"> Email addresses to be separated by ,</FormText>\n                </FormGroup>\n                <FormGroup>\n                  <Label for=\"cc\">Cc</Label>\n                  <Input\n                    type=\"text\"\n                    name=\"text\"\n                    id=\"cc\"\n                    placeholder=\"Send copy of email to...\"\n                  />\n                  <FormText color=\"muted\"> Email addresses to be separated by ,</FormText>\n                </FormGroup>\n                <FormGroup>\n                  <Label for=\"bcc\">Bcc</Label>\n                  <Input\n                    type=\"text\"\n                    name=\"bcc\"\n                    id=\"bcc\"\n                    placeholder=\"Send copy of email to...\"\n                  />\n                  <FormText color=\"muted\"> Email addresses to be separated by ,</FormText>\n                </FormGroup>\n                <FormGroup>\n                  <Label for=\"subject\">Subject</Label>\n                  <Input\n                    type=\"text\"\n                    name=\"subject\"\n                    id=\"subject\"\n                    placeholder=\"Subject of the email\"\n                  />\n                </FormGroup>\n                <FormGroup>\n                  <Label for=\"email\">Email</Label>\n                  <Editor\n                    editorState={props.meditorstate}\n                    wrapperClassName=\"demo-wrapper\"\n                    editorClassName=\"demo-editor\"\n                    onEditorStateChange={(es) => { \n                      \n                      props.meditorstatehandler(es);\n                     }}\n                    id=\"email\"\n                    toolbarClassName=\"toolbar-class\"\n                    toolbar={{\n                      inline: { inDropdown: true },\n                      list: { inDropdown: true },\n                      textAlign: { inDropdown: true },\n                      link: { inDropdown: true },\n                      history: { inDropdown: true },\n                    }}\n                    />\n                </FormGroup>\n                <FormGroup>\n                  <Label for=\"attachment\"><MdAttachFile /> Attachment</Label>\n                  <Input\n                    type=\"file\"\n                    name=\"attachment\"\n                    id=\"attachment\"\n                    multiple=\"multiple\"\n                    onChange={ (ev) => {\n                     props.attachmenthandler(ev);\n                    }}\n                  />\n                  <FormText color=\"muted\">\n                    Maximum allowed file size 20MB\n                  </FormText>\n                </FormGroup>\n                <RButton onClick={ () =>  props.sendemail() }>\n                  Send Email\n                </RButton>\n              </Form>\n            </ModalBody>\n          </Modal>\n        </CardBody>\n      </Card>\n    </Col>\n    </Row>);\n}\n\nexport default composeModal;","import React, { Component } from 'react';\nimport { draftToMarkdown, markdownToDraft } from 'markdown-draft-js';\nimport { EditorState, convertFromRaw, convertToRaw } from 'draft-js';\nimport { Editor } from 'react-draft-wysiwyg';\nimport draftToHtml from 'draftjs-to-html';\nimport {stateFromHTML} from 'draft-js-import-html';\n\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\nimport { Button as RButton, Form, FormGroup, Label, Input, Col,FormText } from 'reactstrap';\nimport { FaTrash } from 'react-icons/fa';\nimport { MdAttachFile } from \"react-icons/md\";\n\nclass MessageEditor extends Component {\n  state = {\n    editorState: EditorState.createEmpty(),\n    isCc: false,\n    isBcc: false,\n  };\n  constructor(props){\n    super(props);\n    let contentState = {};\n    if(this.props.markdown){\n      const markdownString = this.props.fwdMsg;\n      const rawData = markdownToDraft(markdownString);\n      contentState = convertFromRaw(rawData);\n    }else{\n      contentState = stateFromHTML(this.props.fwdMsg);\n    }\n    \n    let editorState = EditorState.createWithContent(contentState);\n    this.state = {editorState: editorState};\n    \n\n  }\n\n  componentDidMount(){\n    if(this.props.isEmailFwd===true){\n      document.getElementById(\"staticEmail\").value=\"\";\n      if(this.state.isCc){\n        document.getElementById(\"cc\").value=\"\";\n      }\n      if(this.state.isBcc){\n        document.getElementById(\"bcc\").value=\"\";\n      }\n      \n    }\n    if(this.props.orCc.length > 0 && this.state.isCc===false){\n      this.setState({\n        isCc: true\n      });\n    }\n\n    if(this.props.orBcc.length > 0 && this.state.isBcc===false){\n      this.setState({\n        isBcc: true\n      });\n    }\n  }\n\n  onEditorStateChange = editorState => {\n    this.setState({\n      editorState,\n    });\n  };\n\n  render() {\n    const { editorState } = this.state;\n    \n    \n    return (\n      <div>\n        <div>\n          <Form>\n            <FormGroup row>\n              <Label for=\"staticEmail\" sm={2}>To</Label>\n              <Col sm={10} >\n                <Input\n                  type=\"text\"\n                  className=\"form-control-plaintext border-bottom\"\n                  id=\"staticEmail\"\n                  defaultValue={this.props.orFrom}\n                  placeholder = \"To\"\n\n                />\n                <FormText color=\"muted\"> Email addresses to be separated by ,</FormText>\n              </Col>\n            </FormGroup>\n          \n          {this.state.isCc ? (\n            <FormGroup row>\n              <Label for=\"cc\" sm={2}>Cc</Label>\n              <Col sm={10} >\n              <Input\n                type=\"text\"\n                className=\"form-control-plaintext border-bottom\"\n                id=\"cc\"\n                placeholder=\"Cc\"\n                defaultValue={this.props.isEmailFwd ? '': this.props.orCc}\n              />\n              <FormText color=\"muted\"> Email addresses to be separated by ,</FormText>\n              </Col>\n          </FormGroup>\n            \n          ) : (\n            <a\n              href=\"#cc\"\n              onClick={() => {\n                this.setState({ isCc: true });\n              }}\n            >\n              CC\n            </a>\n          )}\n          <span>&nbsp;</span>\n          {this.state.isBcc ? (\n            <FormGroup row>\n            <Label for=\"bcc\" sm={2}>Bcc</Label>\n            <Col sm={10}>\n            <Input\n              label=\"Bcc\"\n              type=\"text\"\n              className=\"form-control-plaintext border-bottom\"\n              id=\"bcc\"\n              placeholder=\"Bcc\"\n              defaultValue={this.props.isEmailFwd ? '': this.props.orBcc}\n            />\n            <FormText color=\"muted\"> Email addresses to be separated by ,</FormText>\n            </Col>\n            </FormGroup>\n            \n          ) : (\n            <a\n              href=\"#bcc\"\n              onClick={() => {\n                this.setState({ isBcc: true });\n              }}\n            >\n              BCC\n            </a>\n          )}\n          <FormGroup row>\n            <Label for=\"subject\" sm={2}>Subject</Label>\n            <Col sm={10}>\n            <Input\n              type=\"text\"\n              label=\"subject\"\n              className=\"form-control-plaintext border-bottom\"\n              id=\"subject\"\n              placeholder=\"Subject\"\n              defaultValue={this.props.isEmailFwd ? 'Fwd: '+this.props.subject: 'Re: '+this.props.subject}\n            />\n            </Col>\n          </FormGroup>\n          \n          </Form>\n        </div>\n        <span>&nbsp;</span>\n        <Editor\n          editorState={editorState}\n          wrapperClassName=\"demo-wrapper\"\n          editorClassName=\"demo-editor\"\n          onEditorStateChange={this.onEditorStateChange}\n          placeholder=\"Type your mail here...\"\n          toolbarClassName=\"toolbar-class\"\n          toolbar={{\n            inline: { inDropdown: true },\n            list: { inDropdown: true },\n            textAlign: { inDropdown: true },\n            link: { inDropdown: true },\n            history: { inDropdown: true },\n          }}\n        />\n        <div>  <MdAttachFile /> &nbsp; <input\n                            type=\"file\"\n                            name=\"attachment\"\n                            id=\"attachment\"\n                            multiple\n                            onChange={ (ev) => {\n                              this.props.handleAttachment(ev);\n                            }}\n                          />\n                          <p className=\"text-muted\">Maximum allowed file size 20MB</p>\n        </div>\n        <RButton\n          className=\"mr-2\"\n          onClick={() => {\n            let email = {};\n            let content = editorState.getCurrentContent();\n            if(this.props.markdown){\n              email = draftToMarkdown(convertToRaw(content));\n            }else{\n              email = draftToHtml(convertToRaw(content));\n            }\n\n            this.props.replyEmail(email);\n            \n          }}\n        >\n          Send\n        </RButton>\n        <RButton\n          onClick={() => {\n            document.getElementById(\"attachment\").value='';\n            this.props.editor();\n            this.props.resetSubject();\n            this.props.closeEditors();\n          }}\n        >\n          <FaTrash />\n        </RButton>\n      </div>\n    );\n  }\n}\nexport default MessageEditor;","import React from 'react';\nimport {\n    FaTrash,\n    FaArrowLeft,\n    FaStar,\n    FaRegStar,\n    FaExclamationTriangle\n  } from 'react-icons/fa';\n\n  import {\n    Button as RButton,\n    Card,\n    CardBody,\n    CardHeader,\n    Col,\n    Row,\n    NavLink,\n  } from 'reactstrap';\n  \nimport MessageEditor from '../components/MessageEditor';\n\nconst emailPage = (props) => {\n    \n    let floatDir = \"float-right\";\n    if(props.breakpoint===\"xs\"){\n      floatDir=\"float-left i-block\";\n    }\n\n    \n\n   return (\n        <Row className=\"email-pg\">\n          <Col xl={9} lg={9} md={9} xs={9}>\n            { props.thread.map((el,index) => {\n              let emlBody = el.body;\n             if(el.hasAttachments===1){\n                emlBody+=\"<hr><p>Attachments:</p><ul>\";\n                let path = window.location.pathname;\n                let arr = path.split(\"/\");\n                let segment = arr.pop();\n                while(segment!==\"cmail\"){\n                  segment = arr.pop();\n                }\n                \n                path = arr.join(\"/\");\n            \n                for(let i=0;i<el.attachment.length;i++){\n                  emlBody+=\"<li><a href='\"+path+el.attachment[i]['url']+\"' target='_blank' download>\"+el.attachment[i]['file']+\"</a></li>\";\n                }\n                emlBody+=\"</ul>\";\n\n              }\n             return (<React.Fragment key={el.uid}>\n            <Card className=\"mt-3\">\n              <CardHeader>\n                  <div className=\"clearfix\">\n                    <NavLink \n                      to=\"#url\"\n                      title=\"Back to mailbox\"\n                      onClick={e => {\n                        e.preventDefault();\n                        props.setState({\n                          page: 'list',\n                        });\n                        props.fetchEmails();\n                      }}\n                      className=\"email-icons float-left\"\n                    >\n                        <FaArrowLeft />\n                    </NavLink>\n                    <span className=\"eml-subject float-left\">{el.subject}</span>\n                    \n                  <NavLink \n                    to=\"#\" \n                    className={`email-icons ${floatDir}`}\n                    title=\"Delete email\"\n                      onClick={e => {\n                        e.preventDefault();\n                        let uid = el.uid;\n                        props.trashEmail(uid);\n                        props.setState({\n                          page: 'list',\n                        });\n                        props.fetchEmails();\n                      }}\n                  >\n                    <FaTrash />\n                  </NavLink>\n                  <NavLink \n                    to=\"#\" \n                    className={`email-icons ${floatDir}`}\n                    title=\"Mark email as spam\"\n                      onClick={e => {\n                        e.preventDefault();\n                        let uid = el.uid;\n                        props.spamEmail(uid);\n                        props.setState({\n                          page: 'list',\n                        });\n                        props.fetchEmails();\n                      }}\n                  >\n                    <FaExclamationTriangle />\n                  </NavLink>\n                  <NavLink \n                      to=\"#\"\n                      title={props.emailStarred ? \"Unmark as starred\": \"Mark as starred\"}\n                      onClick={e => {\n                          e.preventDefault();\n                          let uid = el.uid;\n                          let nextStarredState = 0;\n                          \n                          if(props.emailStarred===1){\n                            nextStarredState = 0;\n                          }else{\n                            nextStarredState = 1;\n                          }\n                          \n                          props.setState({\n                            isEmailStarred: nextStarredState\n                          });\n  \n                          props.starEmail(uid,nextStarredState);\n                        }}\n                      className={`email-icons ${floatDir}`}\n                    >\n                    \n                      {props.emailStarred ? <FaStar />:<FaRegStar />} \n                    \n                  </NavLink>\n                  </div>\n                  <div className=\"clearfix\">\n                    <span className=\"float-left eml-from\" >{el.from}</span>\n                    <span className={`${floatDir}`}>{props.displayDate(el.date)}</span>\n                  </div>\n              </CardHeader>\n              <CardBody\n                dangerouslySetInnerHTML={{\n                  __html: `${emlBody}`\n                }}\n              />\n            </Card>\n            <Card className=\"mt-3\">\n              <CardBody>\n                <Row className=\"editor-container\">\n                  {el['editor'] ? (\n                    <Col xs=\"auto\">\n                      <MessageEditor\n                        className=\"ql-editor\"\n                        editor={props.editorHandler}\n                        from={el.from}\n                        cc={el.cc}\n                        bcc={el.bcc}\n                        subject={el.subject}\n                        replyEmail={props.replyEmail}\n                        resetSubject={props.resetSubject}\n                        orFrom={el.from}\n                        orCc={el.cc}\n                        orBcc={el.bcc}\n                        to={el.to}\n                        orTo={el.to}\n                        uid={el.uid}\n                        fwdMsg={props.fwdMsg}\n                        isEmailFwd={props.isEmailFwd}\n                        handleAttachment={ (ev) => { props.handleAttachment(ev) }}\n                        closeEditors={props.closeEditors}\n                        markdown={props.markdown}\n                      />\n                    </Col>\n                  ) : (\n                    <Row>\n                      <div className=\"ml-3\">\n                        <RButton\n                          className=\"ml-3\"\n                          onClick={() => {\n                            props.activeThread(index);\n                            let  subject = el.subject;\n                            props.setState({\n                              editor: true,\n                              orSubject: subject,\n                              subject: subject,\n                              isEmailFwd: false,\n                            });\n                          }}\n                        >\n                          Reply\n                        </RButton>\n                      </div>\n                      <div className=\"ml-3\">\n                        <RButton\n                          className=\"ml-3\"\n                          onClick={() => {\n                            props.activeThread(index);\n                            let subject = el.subject;\n                            props.setState({\n                              editor: true,\n                              orSubject: subject,\n                              subject: subject,\n                              isEmailFwd: true  \n                            });\n                          }}\n                        >\n                          Forward\n                        </RButton>\n                      </div>\n                    </Row>\n                  )}\n                </Row>\n              </CardBody>\n            </Card>\n            </React.Fragment>);\n            })} \n          </Col>\n        </Row>\n      );\n};\n\nexport default emailPage;","import React from 'react';\nimport {\n    Button,\n    Card,\n    CardBody,\n    CardHeader,\n    Col,\n    Row,\n    CustomInput,\n} from 'reactstrap';\n\n\nconst settingsPage = (props) => {\n    let markdownSwitch = props.markdown;\n    return (\n        <Row className=\"email-pg\">\n          <Col xl={9} lg={9} md={9} xs={9}>\n              <Card className=\"mt-3\">\n                  <CardHeader>\n                     Settings\n                  </CardHeader>\n                  <CardBody>\n                      <CustomInput \n                        type=\"switch\" \n                        id=\"markdown\" \n                        name=\"markdown\" \n                        label=\"Enable Markdown\"\n                        onChange={(ev) => {\n                            markdownSwitch = ev.target.checked;\n                        }}\n                        defaultChecked={props.markdown} \n                        />\n                      <br />\n                      <Button onClick={()=>{\n                          props.setState({\n                            enableMarkdown: markdownSwitch,\n                            page: 'list'\n                          });\n                          props.fetchEmails();\n                      }}>Save</Button>\n                  </CardBody>\n              </Card>\n          </Col>\n        </Row>\n   );\n};\n\nexport default settingsPage;","import React from 'react';\nimport Page from 'components/Page';\nimport EnhancedTable from 'components/Cranberry/EnhancedTable';\nimport axios from 'axios';\nimport { withRouter } from 'react-router-dom';\nimport { Spinner } from 'reactstrap';\nimport { Container, Button } from 'react-floating-action-button';\nimport {\n  FaPen,\n  FaTools\n} from 'react-icons/fa';\nimport {\n  Button as CButton,\n  Card,\n  Row,\n} from 'reactstrap';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport { draftToMarkdown } from 'markdown-draft-js';\nimport { EditorState, convertToRaw } from 'draft-js';\nimport draftToHtml from 'draftjs-to-html';\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\nimport ComposeModal from './ComposeModal';\nimport EmailPage from './EmailPage';\nimport SettingsPage from './SettingsPage';\n\nfunction createData(id, starred, from, subject,body,attachment, timestamp) {\n  return { id, starred, from, subject, timestamp };\n}\n\n/*const rows = [\n  createData('1', 0, 'CranberryMail', 'Loading emails', 'Please wait for a moment...', 1, new Date().toLocaleString()),\n];*/\n\nconst headCells = [\n  { id: 'starred', numeric: true, disablePadding: false, label: '' },\n  { id: 'from', numeric: false, disablePadding: false, label: 'From' },\n  { id: 'subject', numeric: false, disablePadding: false, label: 'Subject' },\n  { id: 'timestamp', numeric: false, disablePadding: false, label: 'Date' },\n  /*{ id: 'body', numeric: false, disablePadding: false, label: 'Body' },\n  {\n    id: 'attachment',\n    numeric: true,\n    disablePadding: false,\n    label: 'Attachment',\n  },*/\n  \n];\n\nclass InboxPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      app: props.location.state,\n      rows: [],\n      cells: headCells,\n      title: '',\n      busy: 1,\n      modal: false,\n      modal_backdrop: false,\n      modal_nested_parent: false,\n      modal_nested: false,\n      backdrop: true,\n      page: 'list',\n      uid: '',\n      orSubject:'',\n      subject: '',\n      body: '',\n      to: '',\n      orTo: '',\n      orFrom: '',\n      from: '',\n      orCc: '',\n      cc: '',\n      orBcc:'',\n      bcc: '',\n      date: '',\n      fwdMsg:'',\n      editor: false,\n      modalEditorState: EditorState.createEmpty(),\n      isEmailFwd: false,\n      attachment: [],\n      isEmailStarred: 0,\n      thread: [], // thread of an email\n      emailThreads: [], // threads of all emails\n      messageId: '',\n      enableMarkdown: false,\n      enableEmailThread: false,\n      dateFormat: ''\n    };\n  }\n\n  handleAttachment = (ev) =>{\n      const fileData = ev.target.files;\n      this.setState({\n        attachment: fileData\n      });\n  };\n\n  updateState = (state) =>{\n    this.setState({...state});\n  };\n\n  onModalEditorStateChange = modalEditorState => {\n    this.setState({\n      modalEditorState,\n    });\n  };\n\n  editorHandler = () => {\n    this.setState({\n      editor: false,\n    });\n  };\n\n  resetSubject= () =>{\n    this.setState({\n      subject: this.state.orSubject\n    });\n  };\n\n  replyEmail = (emailBody) => {\n    \n    let { token } = this.state.app;\n    const config = {\n      headers: {\n        Accept: 'application/json',\n        Authorization: 'Bearer ' + token,\n      },\n    };\n    let body = emailBody;\n\n    let cc =  document.getElementById('cc');\n    let bcc = document.getElementById('bcc');\n    let to = document.getElementById('staticEmail').value;\n    let subject = document.getElementById('subject').value;\n    let messageId = this.state.messageId;\n\n    let data = {};\n   \n    if(this.state.attachment){\n   \n      data = new FormData();\n      \n      let i=0;\n      let fileData = this.state.attachment;\n      \n      for(;i<fileData.length;i++){\n        data.append('attachment[]',fileData[i]);\n      }\n      \n      data.append('to',to);\n      data.append('subject',subject);\n      data.append('body',body);\n      data.append('messageId',messageId);\n      if(cc !== null){\n        data.append('cc',cc.value);\n      }\n      if(bcc!== null){\n        data.append('cc',bcc.value);\n      }\n  \n      config.headers['Content-Type']= 'multipart/form-data';\n    }else{\n      data = {\n        to,\n        subject,\n        body,\n        messageId\n      };\n      if(cc !== null){\n        data.cc = cc.value;\n      }\n      if(bcc!== null){\n        data.bcc = bcc.value;\n      }\n    }\n\n\n    axios\n      .post(window._api + '/smtp/sendEmail', data, config)\n      .then(res => {\n        if (res.data.result > 0) {\n            this.editorHandler();\n            this.setState({\n              attachment: false\n            });\n            toast('Email has been sent');\n            this.resetSubject();\n            this.closeEditors();\n        }else{\n          toast(res.data.message);\n        }\n      });\n  };\n  starEmail = (uid,emailState) => {\n    if(this.props.curFolder!=='' || this.props.curFolder!==undefined){\n      let { token } = this.state.app;\n      const config = {\n        headers: {\n          Accept: 'application/json',\n          Authorization: 'Bearer ' + token,\n        },\n      };\n      const data = {\n        curFolder: this.props.curFolder,\n        uid,\n        emailState,\n        trashFolder: \"trash\",\n        starredFolder: \"starred\"\n      };\n      axios\n      .post(window._api + '/star_emails', data, config)\n      .then(res => {\n        \n        if (res.data.result > 0) {\n          if(emailState===0){\n            toast('Email moved to Inbox');\n          }else{\n            toast('Email moved to Starred');\n          }\n\n          if(this.state.page === 'list'){\n            let rows = this.state.rows;\n            rows = rows.filter((row) => {\n              if(row.id===uid){\n                return false;\n              }else{\n                return true;\n              }    \n            });\n\n            this.setState({rows});\n          }\n\n        }else{\n          if(emailState===0){\n            toast('Email still marked as starred');\n          }else{\n            toast('Unable to mark email as starred');\n          }\n        }\n\n\n        \n      });  \n    }\n  };\n\n  untrashEmail = (uid) => {\n    let flag = 0;\n    let { token } = this.state.app;\n    const config = {\n      headers: {\n        Accept: 'application/json',\n        Authorization: 'Bearer ' + token,\n      },\n    };\n\n    if(Array.isArray(uid)){\n      let rows = this.state.rows;\n      uid.sort();\n      \n      let i = 0;\n      rows = rows.filter((row) => {\n          if(row.id===uid[i]){\n            i++;\n            return false;\n          }else{\n            return true;\n          }    \n      });\n\n      this.setState({rows});\n      uid = JSON.stringify(uid);\n      flag = 1;\n    }\n\n    const data = {\n      curfolder: 'inbox',\n      trash: 'trash',\n      uid\n    };\n\n    axios\n    .post(window._api + '/untrash_emails', data, config)\n    .then(res => {\n      if (res.data.result > 0) {\n        if(flag===1){\n          toast(\"Emails have been restored\");\n        }else{\n          toast('Email has been restored');\n        }\n        \n      }\n    });\n  };\n\n  trashEmail = (uid) => {\n    if(this.props.curFolder!=='' || this.props.curFolder!==undefined){\n      let flag = 0;\n      let { token } = this.state.app;\n      const config = {\n        headers: {\n          Accept: 'application/json',\n          Authorization: 'Bearer ' + token,\n        },\n      };\n\n      if(Array.isArray(uid)){\n        let rows = this.state.rows;\n        uid.sort();\n        \n        let i = 0;\n        rows = rows.filter((row) => {\n            if(row.id===uid[i]){\n              i++;\n              return false;\n            }else{\n              return true;\n            }    \n        });\n\n        this.setState({rows});\n        uid = JSON.stringify(uid);\n        flag = 1;\n      }\n\n      const data = {\n        curfolder: this.props.curFolder,\n        trash: 'trash',\n        uid\n      };\n\n      axios\n      .post(window._api + '/trash_emails', data, config)\n      .then(res => {\n        if (res.data.result > 0) {\n          if(flag===1){\n            toast(\"Emails have been deleted\");\n          }else{\n            toast('Email has been deleted');\n          }\n          \n        }\n      });  \n    }\n    \n  };\n\n  spamEmail = (uid) => {\n    if(this.props.curFolder!=='' || this.props.curFolder!==undefined){\n      let flag = 0;\n      let { token } = this.state.app;\n      const config = {\n        headers: {\n          Accept: 'application/json',\n          Authorization: 'Bearer ' + token,\n        },\n      };\n\n      if(Array.isArray(uid)){\n        let rows = this.state.rows;\n        uid.sort();\n        \n        let i = 0;\n        rows = rows.filter((row) => {\n            if(row.id===uid[i]){\n              i++;\n              return false;\n            }else{\n              return true;\n            }    \n        });\n\n        this.setState({rows});\n        uid = JSON.stringify(uid);\n        flag = 1;\n      }\n\n      const data = {\n        curfolder: this.props.curFolder,\n        spam: 'spam',\n        uid\n      };\n\n      axios\n      .post(window._api + '/spam_emails', data, config)\n      .then(res => {\n        if (res.data.result > 0) {\n          if(flag===1){\n            toast(\"Emails marked as spam\");\n          }else{\n            toast('Email marked as spam');\n          }\n          \n        }\n      });  \n    }\n    \n  };\n\n  unspamEmail = (uid) => {\n    let flag = 0;\n    let { token } = this.state.app;\n    const config = {\n      headers: {\n        Accept: 'application/json',\n        Authorization: 'Bearer ' + token,\n      },\n    };\n\n    if(Array.isArray(uid)){\n      let rows = this.state.rows;\n      uid.sort();\n      \n      let i = 0;\n      rows = rows.filter((row) => {\n          if(row.id===uid[i]){\n            i++;\n            return false;\n          }else{\n            return true;\n          }    \n      });\n\n      this.setState({rows});\n      uid = JSON.stringify(uid);\n      flag = 1;\n    }\n\n    const data = {\n      curfolder: 'inbox',\n      spam: 'spam',\n      uid\n    };\n\n    axios\n    .post(window._api + '/unspam_emails', data, config)\n    .then(res => {\n      if (res.data.result > 0) {\n        if(flag===1){\n          toast(\"Emails have been restored\");\n        }else{\n          toast('Email has been restored');\n        }\n        \n      }\n    });\n  };\n\n  sendEmail = (e) => {\n    let { token } = this.state.app;\n    const config = {\n      headers: {\n        Accept: 'application/json',\n        Authorization: 'Bearer ' + token,\n      },\n    };\n\n    let body = {};\n    let content = this.state.modalEditorState.getCurrentContent();\n\n    if(this.state.enableMarkdown){\n      body = draftToMarkdown(convertToRaw(content));\n    }else{\n      body = draftToHtml(convertToRaw(content));\n    }\n    \n    let cc =  document.getElementById('cc');\n    let bcc = document.getElementById('bcc');\n    let to = document.getElementById('to').value;\n    let subject = document.getElementById('subject').value;\n\n    let data = {};\n\n    if(this.state.attachment){\n      let i=0;\n      data = new FormData();\n    \n      let fileData = this.state.attachment;\n      \n      for(;i<fileData.length;i++){\n        data.append('attachment[]',fileData[i]);\n      }\n      \n      data.append('to',to);\n      data.append('subject',subject);\n      data.append('body',body);\n\n      if(cc !== null){\n        data.append('cc',cc.value);\n      }\n      if(bcc!== null){\n        data.append('bcc',bcc.value);\n      }\n  \n      config.headers['Content-Type']= 'multipart/form-data';\n     \n    }else{\n      data = {\n        to,\n        subject,\n        body,\n      };\n      if(cc !== null){\n        data.cc = cc.value;\n      }\n      if(bcc!== null){\n        data.bcc = bcc.value;\n      }\n    }\n\n    axios\n      .post(window._api + '/smtp/sendEmail', data, config)\n      .then(res => {\n        if (res.data.result > 0) {\n          \n          this.resetFields();\n          this.setState({\n            modal: false,\n          });\n          toast('Email has been sent');\n        }else{\n          toast(res.data.message);\n        }\n      });\n  };\n\n  resetFields = () => {\n    if (document.getElementById('to')) {\n      document.getElementById('to').value = '';\n      document.getElementById('cc').value = '';\n      document.getElementById('bcc').value = '';\n      document.getElementById('subject').value = '';\n      document.getElementById('attachment').value = '';\n      this.setState({\n        modalEditorState: EditorState.createEmpty(),\n        attachment: false\n      });\n     \n    }\n  };\n\n  handleCompose = modalType => () => {\n    if (!modalType) {\n      this.setState({\n        modal: !this.state.modal,\n      });\n      this.resetFields();\n    }\n  };\n\n  closeModal = () =>{\n    this.setState({\n      modal: false,\n    });\n  };\n  \n  setEmailNode = node => {\n    \n    let cc = '';\n    let bcc = '';\n    let from = '';\n    let to='';\n\n    let orTo='';\n    let orCc='';\n    let orBcc='';\n    let orFrom='';\n    let body = '';\n    let subject = '';\n\n    if(node){\n      cc= node.cc;\n      orCc = node.cc;\n   \n      bcc = node.bcc;\n      orBcc = node.bcc;\n              \n\n      from = node.from;\n      orFrom = node.from;\n    \n      to= node.to;\n      orTo = node.to;\n    \n      body = node.body;\n      subject = node.subject;\n      let fwdMsg = \"<br><br><br>===Previous Message===<br><br>\";\n    fwdMsg += \"From: \"+from+\"<br>\";\n    \n    if(cc.length > 5){\n      fwdMsg += \"Cc: \"+cc+\"<br>\";\n    }\n\n    if(bcc.length > 5){\n      fwdMsg += \"Bcc: \"+bcc+\"<br>\";\n    }\n\n    let months_arr = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];\n      let date = new Date(node.date*1000);\n      let year = date.getFullYear();\n      let month = months_arr[date.getMonth()];\n      let day = date.getDate();\n      let hours = date.getHours();\n      let minutes = \"0\" + date.getMinutes();\n      date = day+'-'+month+'-'+year+' '+hours + ':' + minutes.substr(-2);\n\n    fwdMsg+= \"Date: \"+date+\"<br>\";\n    fwdMsg+= \"Subject: \"+subject+\"<br>\";\n    fwdMsg+=\"To: \"+to+\"<br><br><br>\";\n\n    fwdMsg+=node.body;\n    if(node.hasAttachments===1){\n      fwdMsg+=\"<hr><ul>\";\n      let i=0;\n      for(i=0;i<node.attachment.length;i++){\n        fwdMsg+=\"<li><a href='\"+window.location.origin+node.attachment[i]['url']+\"' target='_blank'>\"+node.attachment[i]['file']+\"</a></li>\";\n      }\n\n      fwdMsg+=\"</ul>\";\n    }\n    \n    \n      this.setState({\n        page: 'email',\n        subject,\n        body,\n        orFrom,\n        from,\n        orTo,\n        to,\n        orCc,\n        cc,\n        orBcc,\n        bcc,\n        date,\n        busy: 0,\n        fwdMsg,\n        uid: node.uid,\n        messageId: node.messageId\n      });\n    }\n  };\n\n  closeEditors = () => {\n    let { thread } = this.state;\n    let threadMax = thread.length;\n    \n    for(let i=0;i<threadMax;i++){\n      thread[i].editor = false;\n    }\n\n    this.setState({\n      thread\n    });\n\n\n  };\n\n  activeThread = index =>{\n    let { thread } = this.state;\n    let threadMax = thread.length;\n    \n    for(let i=0;i<threadMax;i++){\n      thread[i].editor = false;\n    }\n\n    thread[index].editor = true;\n\n    this.setEmailNode(thread[index]);\n    \n\n  };\n  \n  getRowIndex = (uid) => {\n    let { rows } = this.state;\n    let max = rows.length;\n    let i =0;\n    for(;i<max;i++){\n      if(this.state.emailThreads[i].uids.indexOf(uid)>=0){\n        break;\n      }\n    }\n    return i;\n  };\n\n  showSettings = () => {\n      this.setState({\n        page: \"settings\"\n      });\n  };\n\n  showEmail = uid => {\n    if(this.props.curFolder!=='' || this.props.curFolder!==undefined){\n      let row_index = this.getRowIndex(uid);\n    window.scrollTo(0, 0);\n    \n    this.setState({\n      busy: 1,\n      rows: [],\n    });\n    const config = {\n      headers: {\n        Accept: 'application/json',\n        Authorization: 'Bearer ' + this.state.app.token,\n      },\n    };\n\n    \n\n    const data = {\n      folder: this.props.curFolder,\n      thread_uids: this.state.emailThreads[row_index]['uids'],\n      has_thread: 1\n    };\n\n    axios\n      .post(window._api + '/email', data, config)\n      .then(res => {\n        if (res.status === 200 && res.data.length > 0) {\n          this.setEmailNode(res.data[0]);\n          this.setState({\n            \"thread\" : res.data\n          });\n          this.closeEditors();\n\n        }else{\n         this.setState({\n            page: 'list',\n          });\n          this.fetchEmails();\n        }\n      });  \n    }\n  };\n\n  componentDidMount() {\n    if (this.props.location.state !== undefined) {\n    } else {\n      this.props.history.push('/login');\n    }\n  }\n  componentDidUpdate(prevProps) {\n   \n    if (this.props.curFolder !== prevProps.curFolder) {\n      this.setState({\n        page: 'list',\n        title: this.props.curFolder\n      });\n      this.fetchEmails();\n    }\n\n    if(this.props.searchTerm !== prevProps.searchTerm){\n      this.setState({\n        page: 'list',\n      });\n\n      let term = this.props.searchTerm;\n      this.searchEmails(term);\n    }\n  }\n \n  displayDate = (curDate) => {\n    let months_arr = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];\n    let date = new Date(curDate*1000);\n    let year = date.getFullYear();\n    let month = months_arr[date.getMonth()];\n    let day = date.getDate();\n    let hours = date.getHours();\n    let minutes = \"0\" + date.getMinutes();\n    date = day+'-'+month+'-'+year+' '+hours + ':' + minutes.substr(-2);\n\n    let eDate= date;\n   \n    let result = `${eDate}`;\n    return result;\n  };\n\n  fetchEmails = () => {\n    if(this.props.curFolder!=='' && this.props.curFolder!==undefined){\n      this.setState({\n        busy: 1,\n        rows: []\n      });\n    \n      const config = {\n        headers: {\n          Accept: 'application/json',\n          Authorization: 'Bearer ' + this.state.app.token,\n        },\n      };\n    \n      const data = {\n        folder: this.props.curFolder,\n        has_thread: 1\n      };\n    \n      axios\n        .post(window._api + '/emails', data, config)\n        .then(res => {\n          if (res.status === 200) {\n            \n            let erows = [];\n            let threads = [];\n            let starred = 0;\n            let curFolder = this.props.curFolder;\n            curFolder = curFolder.toLowerCase();\n            if(curFolder.search(\"starred\") > 0){\n              starred = 1;\n            }\n           \n            for (let i = 0; i < res.data.length; i++) {\n              let body = undefined; \n              let months_arr = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];\n              let date = new Date(res.data[i].date*1000);\n              let year = date.getFullYear();\n              let month = months_arr[date.getMonth()];\n              let day = date.getDate();\n              let hours = date.getHours();\n              let minutes = \"0\" + date.getMinutes();\n              let fdate = day+'-'+month+'-'+year+' '+hours + ':' + minutes.substr(-2);\n    \n              let isAttached = res.data[i].hasAttachments ? 1 : 0;\n              erows[i] = createData(\n                res.data[i].uid,\n                starred,\n                res.data[i].from,\n                res.data[i].subject,\n                body,\n                isAttached,\n                fdate,\n              );\n             threads[i] = res.data[i].thread;\n            }\n            \n           if (erows.length > 0) {\n              this.setState({\n                rows: erows,\n                emailThreads: threads,\n                busy: 0,\n              });\n            } else {\n              this.setState({\n                rows: '',\n                emailThreads: [],\n                busy: 0,\n              });\n            }\n          }\n        });\n    }\n    \n  };\n\n  searchEmails = (term) => {\n    if(this.props.curFolder!=='' || this.props.curFolder!==undefined){\n      this.setState({\n        busy: 1,\n        rows: []\n      });\n  \n      const config = {\n        headers: {\n          Accept: 'application/json',\n          Authorization: 'Bearer ' + this.state.app.token,\n        },\n      };\n  \n      const data = {\n        curfolder: this.props.curFolder,\n        sterm: term\n      };\n  \n      axios\n        .post(window._api + '/search_emails', data, config)\n        .then(res => {\n          if (res.status === 200) {\n            let erows = [];\n            let threads = [];\n            for (let i = 0; i < res.data.length; i++) {\n              let body = undefined; //res.data[i].body;\n              let fdate = new Date(res.data[i].date).toLocaleDateString('en-GB', {\n                month: 'numeric',\n                day: 'numeric',\n                year: 'numeric',\n              });\n  \n              let isAttached = res.data[i].hasAttachments ? 1 : 0;\n              erows[i] = createData(\n                res.data[i].uid,\n                0,\n                res.data[i].from[0].mail,\n                res.data[i].subject,\n                body,\n                isAttached,\n                fdate,\n              );\n             threads[i] = res.data[i].threads;\n            }\n  \n            \n  \n            if (erows.length > 0) {\n              this.setState({\n                rows: erows,\n                emailThreads: threads,\n                busy: 0,\n              });\n            } else {\n              this.setState({\n                rows: '',\n                emailThreads: threads,\n                busy: 0,\n              });\n            }\n          }\n        });  \n    }\n    \n  };\n\n  handleRefresh = () => {\n    this.fetchEmails();\n  };\n\n  render() {\n   \n    return (\n      <React.Fragment>\n        <Row>\n          <ToastContainer />\n        </Row>\n        <Page className=\"cm-inbox-page\">\n          {(this.state.page === 'list' || this.props.page === 'list') && (\n            <React.Fragment>\n              {this.state.rows.length === 0 && this.state.busy === 0 && (\n                <p style={{ padding: 15 }}>No emails found</p>\n              )}\n\n              {this.state.busy === 1 && (\n                <div className=\"cr-page-spinner\">\n                  <Spinner\n                    color={'danger'}\n                    style={{\n                      width: '10rem',\n                      height: '10rem',\n                      marginTop: '10rem',\n                    }}\n                  />{' '}\n                </div>\n              )}\n\n              {this.state.rows.length !== 0 && (\n                <React.Fragment>\n                  <Card className=\"email-refresh\">\n                    <div>\n                      <CButton onClick={this.showSettings}>\n                        <FaTools />\n                      </CButton>\n                    </div>\n                  </Card>\n                  <EnhancedTable\n                    rows={this.state.rows}\n                    rowsLength={this.state.rows.length}\n                    headCells={this.state.cells}\n                    tableTitle={this.props.curFolder}\n                    labelRowsPerPage=\"Per page\"\n                    showEmptyRows={false}\n                    props={this.props}\n                    showEmail={this.showEmail}\n                    trashEmail={this.trashEmail}\n                    untrashEmail={this.untrashEmail}\n                    starEmail = {this.starEmail}\n                    spamEmail = {this.spamEmail}\n                    unspamEmail = {this.unspamEmail}\n                    breakpoint = {this.props.breakpoint}\n                  ></EnhancedTable>\n                </React.Fragment>\n              )}\n\n              {this.state.modal && <ComposeModal\n                                        modal = {this.state.modal}\n                                        composehandler = {this.handleCompose}\n                                        closemodal = {this.closeModal}\n                                        classnm = {this.props.className}\n                                        sendemail = {this.sendEmail}\n                                        meditorstate = {this.state.modalEditorState}\n                                        meditorstatehandler= {this.onModalEditorStateChange}\n                                        attachmenthandler = {this.handleAttachment}\n                                        markdown = {this.state.enableMarkdown} \n                                    />}\n            </React.Fragment>\n          )}\n          {this.state.busy === 0 && this.state.page === 'list' && (\n            <Container>\n              <Button\n                tooltip=\"Compose email\"\n                rotate={false}\n                onClick={this.handleCompose()}\n              >\n                <FaPen />\n              </Button>\n            </Container>\n          )}\n          {this.state.page === 'email' && <EmailPage\n                                              breakpoint = {this.state.breakpoint}\n                                              thread = { this.state.thread }\n                                              setState = {this.updateState}\n                                              fetchEmails = {this.fetchEmails}\n                                              trashEmail = {this.trashEmail}\n                                              spamEmail = {this.spamEmail}\n                                              emailStarred = {this.state.isEmailStarred}\n                                              starEmail = {this.starEmail}\n                                              displayDate={this.displayDate}\n                                              editor = {this.state.editor}\n                                              editorHandler = {this.editorHandler}\n                                              replyEmail = {this.replyEmail}\n                                              resetSubject={this.resetSubject}\n                                              fwdMsg={this.state.fwdMsg}\n                                              isEmailFwd={this.state.isEmailFwd}\n                                              handleAttachment={this.handleAttachment}\n                                              activeThread = {this.activeThread}\n                                              closeEditors = {this.closeEditors}\n                                              markdown={this.state.enableMarkdown}\n                                           />}\n          {this.state.page === 'settings' && <SettingsPage\n                                                breakpoint = {this.state.breakpoint}\n                                                setState = {this.updateState}\n                                                fetchEmails = {this.fetchEmails}\n                                                markdown = {this.state.enableMarkdown}\n                                            />}\n        </Page>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default withRouter(InboxPage);\n"],"sourceRoot":""}